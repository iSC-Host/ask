<template name="questions">
  <div class="head-label mb0">{{ _ 'questions' }}</div>
  {{ > list doc=currentUser.questions }}
</template>

<template name="list">
  <ul class="questions">
    {{# each doc }}
      <li>
        <div class="question">{{ question }}</div>
        {{#Â if answered }}
          <div class="answer">{{ answer }}</div>
          <div class="time">{{ livestamp answeredDate }}</div>
        {{ else }}
          <div class="time mt5">{{ livestamp createdDate }}</div>
          <div class="options">
            <a href="{{ pathFor route='Answer' }}">{{ _ 'answer' }}</a>
          </div>
        {{/if}}
      </li>
    {{ else }}
      <li class="yet">{{ _ 'answer-yet' }}</li>
    {{/each}}
  </ul>
</template>

<template name="askMeForm">
  <form id="AskMeForm" class="{{ type }}">
    {{# if session 'onCreatedQuestion' }}
      <div class="completed-ask">
        <h1>Your question has been sent.</h1>
        <button class="btn gray">Ask another one</button>
      </div>
    {{ else }}
      <textarea id="Ask"></textarea>
      <div class="ask-options">
        <div class="counter">300</div>
        <button class="btn blue ask">{{ _ type }}</button>
      </div>
    {{/if}}
  </form>
</template>

<template name="Answer">
  <div class="head-label mb0">{{ _ 'questions' }}</div>
  <div class="mt10">
    <div class="bold">{{ question.question }}</div>
    <div class="time mt5">{{ livestamp createdDate }}</div>
  </div>
  {{ > askMeForm type="answer" question=question }}
</template>
